# Claude 리뷰 체크리스트

Gemini가 수정한 변경사항을 검토할 때 사용하는 체크리스트입니다.

---

## 범위 검증 (최우선)

### 범위 분석 항목

| 항목 | 확인 방법 | 조치 |
|------|----------|------|
| **범위 내 변경** | 지정한 파일/라인 내 변경 | 정상 |
| **필연적 범위 외 변경** | import, type 정의 등 | 허용 (사용자 안내) |
| **과도한 범위 외 변경** | 요청하지 않은 리팩토링 | 경고 + 원복 권장 |

### 범위 외 변경 분류 기준

**필연적 변경** (허용):
- import/export 문 추가/수정
- 타입 정의 파일 (.d.ts, types.ts)
- 인덱스 파일 (index.ts, index.js)
- 파일 상단 20라인 이내 변경 (보통 import 영역)

**과도한 변경** (주의):
- 요청하지 않은 파일 수정
- 지정 라인 범위 밖의 로직 변경
- 관련 없는 코드 리팩토링
- 스타일/포맷팅 변경 (prettier 등)

### 범위 검증 결과 형식

```markdown
### 범위 분석
- 요청 범위: {requested_scope}
- 실제 변경 범위: {actual_scope}
- 범위 일치도: {percentage}%

| 분류 | 파일 | 변경 내용 |
|------|------|----------|
| ✓ 범위 내 | ... | ... |
| △ 필연적 | ... | import 추가 |
| ⚠ 과도함 | ... | 요청하지 않은 변경 |
```

---

## 자동 검증 항목

사용자가 원하면 자동으로 실행할 수 있는 검증 항목입니다.

### 빌드 검증

| 프로젝트 유형 | 명령어 | 설명 |
|-------------|--------|------|
| Flutter | `flutter build apk --debug` | Android 빌드 |
| Flutter | `flutter build ios --debug --no-codesign` | iOS 빌드 |
| React/Next.js | `npm run build` | 프로덕션 빌드 |
| Node.js | `npm run build` 또는 `tsc` | TypeScript 컴파일 |
| Android | `./gradlew assembleDebug` | Gradle 빌드 |
| iOS | `xcodebuild -scheme Runner` | Xcode 빌드 |

### Lint/정적 분석

| 프로젝트 유형 | 명령어 | 설명 |
|-------------|--------|------|
| Flutter | `flutter analyze` | Dart 정적 분석 |
| React/TS | `npm run lint` 또는 `eslint .` | ESLint |
| Kotlin | `./gradlew ktlintCheck` | ktlint |
| Swift | `swiftlint` | SwiftLint |

### 테스트

| 프로젝트 유형 | 명령어 | 설명 |
|-------------|--------|------|
| Flutter | `flutter test` | 단위 테스트 |
| React | `npm test` | Jest 테스트 |
| Android | `./gradlew test` | JUnit 테스트 |

---

## 수동 확인 항목

Claude가 diff를 읽고 확인해야 하는 항목입니다.

### Critical (즉시 수정 필요)

| 항목 | 확인 방법 | 예시 |
|------|----------|------|
| **보안 관련 변경** | .env, credential, secret, key 포함 파일 확인 | API 키 하드코딩, 민감 정보 노출 |
| **핵심 로직 변경** | 비즈니스 로직 파일의 `-` 라인 확인 | 인증 로직 삭제, 결제 로직 변경 |
| **설정 파일 변경** | pubspec, package.json, gradle, Podfile 확인 | 의존성 버전 변경, 설정 값 변경 |
| **삭제된 코드** | 중요 함수/클래스 삭제 여부 | 사용 중인 함수 삭제 |

### Major (권장 수정)

| 항목 | 확인 방법 | 예시 |
|------|----------|------|
| **하드코딩된 값** | 매직넘버, 색상값, 문자열 직접 사용 | `Color(0xFF123456)`, `fontSize: 16` |
| **기존 컴포넌트 미사용** | 새 위젯/컴포넌트 vs 기존 패턴 비교 | 공통 버튼 있는데 새로 만듦 |
| **import 누락** | 파일 상단 import 문 확인 | 사용하는 클래스의 import 누락 |
| **네이밍 컨벤션** | 프로젝트 네이밍 규칙 준수 | snake_case vs camelCase |

### Minor (참고 사항)

| 항목 | 확인 방법 | 예시 |
|------|----------|------|
| **접근성 (a11y)** | semanticLabel, ARIA 속성 확인 | 이미지에 alt 없음 |
| **반응형 대응** | MediaQuery, LayoutBuilder 사용 | 고정 너비/높이 사용 |
| **주석/문서화** | 복잡한 로직에 주석 여부 | 복잡한 계산 로직에 설명 없음 |
| **코드 중복** | 유사한 코드 패턴 반복 | 같은 스타일 코드 여러 번 |

---

## 리뷰 결과 보고 형식

```markdown
## Gemini 변경사항 리뷰 결과

### 범위 분석
- 요청 범위: {scope}
- 범위 일치도: {percentage}%

| 분류 | 파일 | 변경 내용 |
|------|------|----------|
| ✓ 범위 내 | ... | ... |
| △ 필연적 | ... | ... |
| ⚠ 과도함 | ... | ... |

### 변경 요약
- 수정된 파일: N개
- 추가된 라인: +XXX
- 삭제된 라인: -XXX

### 자동 검증 결과
| 항목 | 결과 | 비고 |
|------|------|------|
| 빌드 | PASS/FAIL/SKIP | ... |
| Lint | PASS/FAIL/SKIP | ... |
| 테스트 | PASS/FAIL/SKIP | ... |

### Critical 이슈 (즉시 수정 필요)
1. [파일:라인] 이슈 설명
   - 문제: ...
   - 권장 조치: ...

### Major 이슈 (권장 수정)
1. [파일:라인] 이슈 설명
   - 문제: ...
   - 권장 조치: ...

### Minor 이슈 (참고)
1. [파일:라인] 이슈 설명

### Claude가 수정한 항목
- [파일:라인] 수정 내용

### 권장 조치
- [ ] 전체 적용
- [ ] 지정 범위만 적용
- [ ] 범위 외만 원복
- [ ] 전체 원복
```

---

## 프로젝트 유형별 추가 확인 사항

### Flutter 프로젝트

- [ ] Widget 테스트 가능한 구조인가?
- [ ] const 생성자 사용 가능한 곳에 사용했는가?
- [ ] Theme.of(context) 대신 하드코딩 색상 사용했는가?
- [ ] MediaQuery 또는 LayoutBuilder로 반응형 대응했는가?
- [ ] Semantics 위젯으로 접근성 제공했는가?

### React/웹 프로젝트

- [ ] TypeScript 타입이 정확한가?
- [ ] 컴포넌트가 적절히 분리되었는가?
- [ ] CSS-in-JS 또는 스타일 파일이 분리되었는가?
- [ ] 반응형 breakpoint가 적용되었는가?
- [ ] ARIA 속성이 적절히 사용되었는가?

### 네이티브 앱 프로젝트

- [ ] 플랫폼별 가이드라인을 따르는가? (Material/Cupertino)
- [ ] 메모리 누수 가능성이 있는 코드가 있는가?
- [ ] 비동기 처리가 적절한가?
- [ ] 에러 처리가 되어 있는가?

---

## 자동 검증 실행 방법

리뷰 중 사용자에게 자동 검증 여부를 확인합니다:

```
빌드/테스트 검증을 실행할까요?
1. 전체 검증 (빌드 + lint + 테스트)
2. 빠른 검증 (lint만)
3. 건너뛰기
```

선택에 따라 해당 명령어를 실행하고 결과를 리뷰 보고서에 포함합니다.

---

## Claude 자동 수정 항목

Claude가 리뷰 중 직접 수정할 수 있는 항목:

1. **린트 에러**: ESLint, TSC, flutter analyze 에러
2. **import 누락**: 사용되는 심볼의 import 추가
3. **간단한 타입 에러**: 명백한 타입 불일치
4. **포맷팅**: 프로젝트 설정에 맞는 포맷팅

**수정 불가 (사용자 확인 필요)**:
- 비즈니스 로직 변경
- 아키텍처 변경
- 의존성 추가/삭제
